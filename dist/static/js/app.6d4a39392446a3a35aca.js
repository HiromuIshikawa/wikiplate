webpackJsonp([1],{"1/oy":function(t,e){},"2gkd":function(t,e){},"9M+g":function(t,e){},AeHL:function(t,e){},GfHa:function(t,e){},IcRP:function(t,e){},Id91:function(t,e){},Iok0:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n=a("Xxa5"),i=a.n(n),r=a("woOf"),o=a.n(r),l=a("exGp"),c=a.n(l),m=a("mtWM"),u=a.n(m),d={template:{infobox:{title:"",infobox:"",arg:[],url:""},sections:[],wiki:""},similars:[],loading:!1,message:""},p={getTemplate:function(t){var e=this;return c()(i.a.mark(function a(){var s,n,r,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.loading=!0,e.next=3,u.a.get("http://localhost:5000/api/template",{params:{keywords:t}}).catch(function(){console.log("template error")});case 3:if("Success"!==(s=e.sent).data.result){e.next=15;break}return d.message="",e.next=8,u.a.get("http://localhost:5000/api/similars").catch(function(){console.log("similars error")});case 8:n=e.sent,r=s.data,l=n.data.similars,d.template=o()({},r),d.similars=o()([],l),e.next=18;break;case 15:d.message="類似記事が抽出できませんでした．",d.template={infobox:{title:"",infobox:"",arg:[],url:""},sections:[],wiki:""},d.similars=[];case 18:d.loading=!1;case 19:case"end":return e.stop()}},a,e)}))()}},v={state:d,actions:p},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sidebar"},[e("router-link",{staticClass:"sidebar-item",attrs:{tag:"div",to:{name:"Template"},exact:""}},[this._v("記事テンプレート")]),this._v(" "),e("router-link",{staticClass:"sidebar-item",attrs:{tag:"div",to:{name:"Similars"}}},[this._v("類似記事")])],1)},staticRenderFns:[]};var g=a("VU/8")({name:"SideBar"},f,!1,function(t){a("AeHL")},"data-v-8d71bd7e",null).exports,h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),t._v(" "),a("router-link",{attrs:{to:{name:"Template"}}},[a("b-navbar-brand",{attrs:{tag:"h1"}},[t._v("Templa")])],1),t._v(" "),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-form",{staticClass:"form"},[a("b-form-input",{staticClass:"col-sm-8 mr-sm-2",attrs:{size:"sm",type:"text",placeholder:"キーワード(城:史跡)"},model:{value:t.privateState.keywords,callback:function(e){t.$set(t.privateState,"keywords",e)},expression:"privateState.keywords"}}),t._v(" "),a("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm"},on:{click:t.create}},[t._v("作成")])],1)],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")({data:function(){return{privateState:{keywords:""}}},methods:{create:function(){this.$emit("create",this.privateState.keywords)}}},h,!1,function(t){a("2gkd")},null,null).exports,_={name:"SyncLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,height:this.size,width:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-syncStretchDelay",animationDuration:"0.6s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.07s"},spinnerDelay2:{animationDelay:"0.14s"},spinnerDelay3:{animationDelay:"0.21s"}}}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[e("div",{staticClass:"v-sync v-sync1",style:[this.spinnerStyle,this.spinnerDelay1]}),e("div",{staticClass:"v-sync v-sync2",style:[this.spinnerStyle,this.spinnerDelay2]}),e("div",{staticClass:"v-sync v-sync3",style:[this.spinnerStyle,this.spinnerDelay3]})])},staticRenderFns:[]};var k=a("VU/8")(_,y,!1,function(t){a("cJQ1")},null,null).exports,w=(a("uMhA"),{name:"App",components:{SideBar:g,NavBar:b,SyncLoader:k},data:function(){return{sharedState:v.state,color:"#5bc0de",size:"20px",margin:"10px",radius:"2px"}},methods:{create:function(t){v.actions.getTemplate(t)}}}),x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav-bar",{staticClass:"navbar",on:{create:t.create}}),t._v(" "),a("b-container",{staticClass:"main-container"},[a("b-row",{staticClass:"main-row"},[a("b-col",{staticClass:"sidebar-col",attrs:{cols:"12",sm:"2"}},[a("side-bar")],1),t._v(" "),t.sharedState.loading?a("b-col",{staticClass:"loading-col",attrs:{cols:"12",sm:"10"}},[a("sync-loader",{staticClass:"loader",attrs:{loading:t.sharedState.loading,color:t.color,size:t.size,margin:t.margin}})],1):a("b-col",{staticClass:"main-content-col",attrs:{cols:"12",sm:"10"}},[a("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var S=a("VU/8")(w,x,!1,function(t){a("Iok0")},null,null).exports,C=a("/ocq"),T={name:"TemplateEditor",data:function(){return{state:v.state,sharedTemplate:v.state.template}},computed:{url:function(){return this.sharedTemplate.infobox.url},sectionFlag:function(){return this.sharedTemplate.sections.length>0},messageFlag:function(){return this.state.message.length>0}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"template"},[a("h1",[t._v("記事テンプレート")]),t._v(" "),t.messageFlag?a("p",{staticClass:"message"},[t._v(t._s(t.state.message))]):t._e(),t._v(" "),a("b-row",{staticClass:"template-row"},[a("b-col",{staticClass:"template-info",attrs:{cols:"12",sm:"4"}},[a("p",[a("b",[t._v("Infobox:")]),t._v(" "),a("a",{attrs:{href:t.url,target:"_blank"}},[t._v(t._s(t.sharedTemplate.infobox.title))])]),t._v(" "),a("p",[a("b",[t._v("章構成:")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.sectionFlag,expression:"sectionFlag"}],staticClass:"section-table"},t._l(t.sharedTemplate.sections,function(e,s){return a("div",{key:e},[t._v(t._s(s+1)+". "+t._s(e))])}))]),t._v(" "),a("b-col",{staticClass:"wiki-template",attrs:{cols:"12",sm:"8"}},[a("p",[a("b",[t._v("wikiテンプレート:")])]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.sharedTemplate.wiki,expression:"sharedTemplate.wiki"}],attrs:{name:"wiki"},domProps:{value:t.sharedTemplate.wiki},on:{input:function(e){e.target.composing||t.$set(t.sharedTemplate,"wiki",e.target.value)}}})])],1)],1)},staticRenderFns:[]};var P=a("VU/8")(T,F,!1,function(t){a("RVx/")},"data-v-2cdea1da",null).exports,D={name:"SimilarsList",data:function(){return{sharedSimilars:v.state.similars,currentPage:1,perPage:6,fields:[{key:"title",label:"記事名",sortable:!0},{key:"infobox",label:"Infobox",sortable:!0},{key:"sections",label:"章構成",sortable:!0}]}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"similars"},[a("h1",[t._v("類似記事")]),t._v(" "),a("b-table",{attrs:{id:"similars-table",items:t.sharedSimilars,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage},scopedSlots:t._u([{key:"title",fn:function(e){return[a("a",{attrs:{href:"https://ja.wikipedia.org/wiki/"+e.value,target:"_blank"}},[t._v(t._s(e.value))])]}},{key:"sections",fn:function(e){return[t._v("\n      "+t._s(e.value.join(", "))+"\n    ")]}}])},[a("template",{slot:"table-caption"},[t._v("\n      "+t._s(t.sharedSimilars.length)+" 件の類似記事が抽出されました．\n    ")])],2),t._v(" "),a("b-pagination",{staticClass:"pagination",attrs:{align:"center",size:"sm","total-rows":t.sharedSimilars.length,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},staticRenderFns:[]};var z=a("VU/8")(D,R,!1,function(t){a("IcRP")},"data-v-0bcce0f8",null).exports;s.a.use(C.a);var $=new C.a({mode:"history",routes:[{path:"/",name:"Template",component:P},{path:"/similars",name:"Similars",component:z}]}),I=(a("Jmt5"),a("9M+g"),a("e6fC"));s.a.use(I.a),s.a.config.productionTip=!1,new s.a({el:"#app",router:$,components:{App:S},template:"<App/>"})},"RVx/":function(t,e){},cJQ1:function(t,e){},uMhA:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6d4a39392446a3a35aca.js.map